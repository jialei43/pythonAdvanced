"""
è¿”å›å‡½æ•°
"""


# æ±‚å’Œå‡½æ•°ï¼Œç«‹å³è¿”å›ç»“æœ
def cals_sum(*args):
    ax = 0
    for arg in args:
        ax += arg
    return ax


print(cals_sum(1, 2, 3, 4, 5, 6, 7, 8))

"""
ä½†æ˜¯ï¼Œå¦‚æœä¸éœ€è¦ç«‹åˆ»æ±‚å’Œï¼Œè€Œæ˜¯åœ¨åé¢çš„ä»£ç ä¸­ï¼Œæ ¹æ®éœ€è¦å†è®¡ç®—æ€ä¹ˆåŠï¼Ÿå¯ä»¥ä¸è¿”å›æ±‚å’Œçš„ç»“æœï¼Œ
è€Œæ˜¯è¿”å›æ±‚å’Œçš„å‡½æ•°ï¼š

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åœ¨å‡½æ•°lazy_sumä¸­åˆå®šä¹‰äº†å‡½æ•°sumï¼Œå¹¶ä¸”ï¼Œå†…éƒ¨å‡½æ•°sumå¯ä»¥å¼•ç”¨å¤–éƒ¨å‡½æ•°lazy_sumçš„å‚æ•°å’Œå±€éƒ¨å˜é‡ï¼Œå½“lazy_sumè¿”å›å‡½æ•°sumæ—¶ï¼Œç›¸å…³å‚æ•°å’Œå˜é‡éƒ½ä¿å­˜åœ¨è¿”å›çš„å‡½æ•°ä¸­ï¼Œè¿™ç§ç§°ä¸ºâ€œé—­åŒ…ï¼ˆClosureï¼‰â€çš„ç¨‹åºç»“æ„æ‹¥æœ‰æå¤§çš„å¨åŠ›ã€‚

è¯·å†æ³¨æ„ä¸€ç‚¹ï¼Œå½“æˆ‘ä»¬è°ƒç”¨lazy_sum()æ—¶ï¼Œæ¯æ¬¡è°ƒç”¨éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œå³ä½¿ä¼ å…¥ç›¸åŒçš„å‚æ•°ï¼š
"""


def lazy_sum(*args):
    def sum():
        ax = 0
        for arg in args:
            ax += arg
        return ax

    return sum()


sum = lazy_sum(1, 2, 3, 4, 5, 6)
print(sum)

"""
ä½¿ç”¨é—­åŒ…ï¼Œå°±æ˜¯å†…å±‚å‡½æ•°å¼•ç”¨äº†å¤–å±‚å‡½æ•°çš„å±€éƒ¨å˜é‡ï¼Œå¦‚æœåªæ˜¯è¯»å¤–å±‚å˜é‡çš„å€¼æˆ‘ä»¬ä¼šå‘ç°è°ƒç”¨ä¸€åˆ‡æ­£å¸¸
"""


def inc():
    x = 0

    def fn():
        #         ä»…è¯»å–xçš„å€¼
        return x + 1

    return fn()


f = inc()
print(f)

"""
ä½†æ˜¯ï¼Œå¦‚æœå¯¹å¤–å±‚å˜é‡èµ‹å€¼ï¼Œç”±äºPythonè§£é‡Šå™¨ä¼šæŠŠxå½“åšå‡½æ•°fn()çš„å±€éƒ¨å˜é‡ï¼Œä»–ä¼šæŠ¥é”™ï¼Œ
å¦‚æœå½“æˆå±€éƒ¨å˜é‡é‚£ä¹ˆxå°±æœªè¢«åˆå§‹åŒ–
"""
def inc():
    x = 0

    def fn():
        # UnboundLocalError: cannot access local variable 'x' where it is not associated with a value
        # x = x + 1
        return x

    return fn()


f = inc()
print(f)

"""
 ğŸ’¡æç¤º

ä½¿ç”¨é—­åŒ…æ—¶ï¼Œå¯¹å¤–å±‚å˜é‡èµ‹å€¼å‰ï¼Œéœ€è¦å…ˆä½¿ç”¨nonlocalå£°æ˜è¯¥å˜é‡ä¸æ˜¯å½“å‰å‡½æ•°çš„å±€éƒ¨å˜é‡ã€‚
"""
def inc():
    x = 0

    def fn():
        nonlocal  x
        x += 1
        return x

    return fn()


f = inc()
print(f)